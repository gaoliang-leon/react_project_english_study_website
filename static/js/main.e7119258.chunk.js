(this["webpackJsonpmy-app-voanews"]=this["webpackJsonpmy-app-voanews"]||[]).push([[0],{137:function(t,e,a){t.exports="."+a.p+"static/media/logo.1e5fb683.png"},144:function(t,e,a){t.exports=a(243)},233:function(t,e,a){},234:function(t,e,a){},240:function(t,e,a){},242:function(t,e,a){},243:function(t,e,a){"use strict";a.r(e);var n=a(24),i=a(25),o=a(28),c=a(26),s=a(29),l=a(0),r=a.n(l),u=a(34),h=a(44),d=a(5),m=a.n(d),p=a(245),g=a(22),b=a.n(g),f=a(246),v=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(c.a)(e).call(this,t))).state={data:[]},a}return Object(s.a)(e,t),Object(i.a)(e,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this,a=t.match.params.id,n="http://www.dell-lee.com/react/api/list.json";a&&(n=n+"?id="+a),b.a.get(n).then((function(t){e.setState({data:t.data.data})}))}},{key:"render",value:function(){return r.a.createElement(f.a,{style:{background:"#fff"},bordered:!0,dataSource:this.state.data,renderItem:function(t){return r.a.createElement(f.a.Item,null,r.a.createElement(u.b,{to:"/detail/".concat(t.id)},t.title))}})}},{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id,a="http://www.dell-lee.com/react/api/list.json";e&&(a=a+"?id="+e),b.a.get(a).then((function(e){t.setState({data:e.data.data})}))}}]),e}(l.Component),w=a(247),j=(a(233),function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(c.a)(e).call(this,t))).state={data:[]},a}return Object(s.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement(w.a,{title:this.state.data.title},r.a.createElement("div",{className:"detail",dangerouslySetInnerHTML:{__html:this.state.data.content}}))}},{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id,a="http://www.dell-lee.com/react/api/detail.json";e&&(a=a+"?id="+e),b.a.get(a).then((function(e){t.setState({data:e.data.data})}))}}]),e}(l.Component)),y=a(137),O=a.n(y),E=a(248),k=a(9),L=(a(234),function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(c.a)(e).call(this,t))).state={list:[]},a}return Object(s.a)(e,t),Object(i.a)(e,[{key:"getMenuItems",value:function(){return this.state.list.map((function(t){return r.a.createElement(E.a.Item,{key:t.id},r.a.createElement(u.b,{to:"/".concat(t.id)},r.a.createElement(k.a,{type:t.icon}),t.title))}))}},{key:"componentDidMount",value:function(){var t=this;b.a.get("http://www.dell-lee.com/react/api/header.json").then((function(e){t.setState({list:e.data.data})}))}},{key:"render",value:function(){return r.a.createElement(l.Fragment,null,r.a.createElement(u.b,{to:"/"},r.a.createElement("img",{alt:"logo",src:O.a,className:"app-header-logo"})),r.a.createElement(E.a,{mode:"horizontal",className:"app-header-menu"},this.getMenuItems()))}}]),e}(l.Component)),S=a(38),C=a(251),N=a(43),M=a(250),P=a(249),I=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(c.a)(e).call(this,t))).state={login:!1,visible:!1,user:"",psw:""},a.showLogin=a.showLogin.bind(Object(S.a)(a)),a.hideLogin=a.hideLogin.bind(Object(S.a)(a)),a.inputUser=a.inputUser.bind(Object(S.a)(a)),a.inputPsw=a.inputPsw.bind(Object(S.a)(a)),a.checkLogin=a.checkLogin.bind(Object(S.a)(a)),a.logOut=a.logOut.bind(Object(S.a)(a)),a}return Object(s.a)(e,t),Object(i.a)(e,[{key:"showLogin",value:function(){this.setState({visible:!0})}},{key:"hideLogin",value:function(){this.setState({visible:!1})}},{key:"inputUser",value:function(t){this.setState({user:t.target.value})}},{key:"inputPsw",value:function(t){this.setState({psw:t.target.value})}},{key:"checkLogin",value:function(){var t=this,e=this.state,a=e.user,n=e.psw;b.a.get("http://www.dell-lee.com/react/api/login.json?user="+a+"&password="+n,{withCredentials:!0}).then((function(e){e.data.data.login?(C.a.success("login success!"),t.setState({login:!0}),setTimeout(t.hideLogin(),6e3)):C.a.error("login failed!")}))}},{key:"logOut",value:function(){var t=this;b.a.get("http://www.dell-lee.com/react/api/logout.json",{withCredentials:!0}).then((function(e){e.data.data.logout&&(t.setState({login:!1}),C.a.success("you have signed out!"),t.props.history.push(""))}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{marginBottom:10}},this.state.login?r.a.createElement(N.a,{type:"primary",onClick:this.logOut},"Sign out"):r.a.createElement(N.a,{type:"primary",onClick:this.showLogin},"Login"),r.a.createElement(u.b,{to:"/vip"},r.a.createElement(N.a,{type:"primary",style:{marginLeft:10}},"Vip")),r.a.createElement(M.a,{title:"Login",visible:this.state.visible,onOk:this.checkLogin,onCancel:this.hideLogin},r.a.createElement(P.a,{placeholder:"Please input your username",style:{marginBottom:10},value:this.state.user,onChange:this.inputUser}),r.a.createElement(P.a,{placeholder:"Please input your password",type:"password",value:this.state.psw,onChange:this.inputPsw})))}},{key:"componentDidMount",value:function(){var t=this;b.a.get("http://www.dell-lee.com/react/api/isLogin.json",{withCredentials:!0}).then((function(e){t.setState({login:e.data.data.login})}))}}]),e}(l.Component),D=Object(h.g)(I),U=(a(240),function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(o.a)(this,Object(c.a)(e).call(this,t))).state={login:!0,fetchStatus:!1},a}return Object(s.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return this.state.login?this.state.fetchStatus?r.a.createElement("div",{className:"vip"},"Vip"):r.a.createElement("div",{className:"vip"},"checking your information..."):r.a.createElement(h.a,{to:"/"})}},{key:"componentDidMount",value:function(){var t=this;b.a.get("http://www.dell-lee.com/react/api/isLogin.json",{withCredentials:!0}).then((function(e){t.setState({login:e.data.data.login,fetchStatus:!0},(function(){t.state.login||C.a.error("Please login!")}))}))}}]),e}(l.Component)),B=(a(241),a(242),p.a.Header),F=p.a.Footer,_=p.a.Content,x=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(p.a,{style:{minWidth:1300}},r.a.createElement(B,{className:"header"},r.a.createElement(L,null)),r.a.createElement(_,{className:"content"},r.a.createElement(D,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/vip",component:U}),r.a.createElement(h.b,{path:"/detail/:id",component:j}),r.a.createElement(h.b,{path:"/:id?",component:v}))),r.a.createElement(F,{className:"footer"},"@copyright LiangGao 2018")))}}]),e}(l.Component);m.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.e7119258.chunk.js.map